# Final

## 1. 数据集

1. 沪深300
2. 2014-01-01至2024-11-15

## 2. 任务

1. 技术指标策略 (分为激进型和保守型)
2. 强化学习策略 DDQN (分为激进型和保守型)

## 3. 回测 指标

1. 累计收益率

$$ 
CummulativeReturn = \frac{p_{t} - p_{0}}{p_{0}} 
$$

2. 最大回撤

$$
MaxDrawdown = \frac{p_{t} - p_{t}^{*}}{p_{t}^{*}}
$$

3. 夏普比率

$$
SharpeRatio = \frac{R_{p} - R_{f}}{\sigma_{p}}
$$


## 4. 基准

1. 技术指标策略作为基准
2. 强化学习策略作为对比

## 5. 过程

1. 获取股票数据
2. 数据预处理 转化为backtrader需要的格式
3. 技术指标策略 双均线/RSI/波动率
4. 强化学习策略 DDQN
5. 回测

## 具体
1. yaml中有10条股票代码和名称
2. 创建10个结果文件夹
3. 先用传统策略回测 保存K线/买卖点 到单独的文件夹 命名为{股票代码}_{策略名称} 同时输入收益率/最大回撤/夏普比率到{股票代码}_{策略名称}.csv
4. 再用强化学习策略回测 保存K线/买卖点 到对应的文件夹 命名为{股票代码}_{策略名称} 同时输入收益率/最大回撤/夏普比率到{股票代码}_{策略名称}.csv
5. 读取每个股票的{股票代码}_{策略名称}.csv文件 画出柱状图 并且保存到{股票代码}_{策略名称}.png